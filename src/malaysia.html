<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Travel Destinations - Italy</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon@2.5.0/fonts/remixicon.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="country.css">
</head>
<body>
    <header>
        <nav>
            <div class="nav__logo">TravelGo</div>
            <ul class="nav__links">
                <li><a class="link" href="homepage.html">Home</a></li>
                <li><a class="link" href="index.html">Itineraries</a></li>
            </ul>
        </nav>
        <div class="header__content">
            <h1>Welcome To Malaysia</h1>
        </div>
    </header>

    <div class="section__container">
        <div class="about__container">
            <h2>Get to know Malaysia ! </h2>
            <div class="about__content">
                <p>Malaysia, a vibrant and diverse country in Southeast Asia, is known for its blend of cultural influences, stunning landscapes, and modern cities. Split between the Malay Peninsula and the island of Borneo, Malaysia offers a unique mix of Malay, Chinese, Indian, and indigenous traditions, reflected in its cuisine, festivals, and architecture. The capital, Kuala Lumpur, is home to iconic landmarks like the Petronas Twin Towers, bustling markets, and vibrant neighborhoods such as Bukit Bintang. Malaysia’s natural beauty includes rainforests like those in Taman Negara, pristine beaches in Langkawi, and the unique ecosystems of Sabah and Sarawak on Borneo. Visitors can explore colonial heritage in cities like Georgetown, Penang, or relax on idyllic islands with crystal-clear waters. Known for its warm hospitality and rich culinary scene, Malaysia offers a remarkable experience where modernity meets tradition in a harmonious and colorful setting.</p>
                <img src="image/aboutMalaysia.jpg" alt="Travel team" class="about__image">
            </div>
        </div>

        <div class="weather__container">
            <h2>Weather</h2>
            <div class="weather__info">
                <div class="weather__item">
                    <h3><i class="ri-map-pin-line"></i> Location</h3>
                    <p id="location">Loading...</p>
                </div>
                <div class="weather__item">
                    <h3><i class="ri-thermometer-line"></i> Temperature</h3>
                    <p id="temperature">Loading...</p>
                </div>
                <div class="weather__item">
                    <h3><i class="ri-thermometer-line"></i> Feels Like</h3>
                    <p id="feels_like">Loading...</p>
                </div>
                <div class="weather__item">
                    <h3><i class="ri-sun-line"></i> Condition</h3>
                    <p id="condition">Loading...</p>
                </div>
                <div class="weather__item">
                    <h3><i class="ri-windy-line"></i> Wind</h3>
                    <p id="wind">Loading...</p>
                </div>
                <div class="weather__item">
                    <h3><i class="ri-drop-line"></i> Humidity</h3>
                    <p id="humidity">Loading...</p>
                </div>
                <div class="weather__item">
                    <h3><i class="ri-sun-cloudy-line"></i> Sunrise</h3>
                    <p id="sunrise">Loading...</p>
                </div>
                <div class="weather__item">
                    <h3><i class="ri-moon-line"></i> Sunset</h3>
                    <p id="sunset">Loading...</p>
                </div>
                <div class="weather__item">
                    <h3><i class="ri-shirt-line"></i> Clothing Advice</h3>
                    <p id="clothing">Loading...</p>
                </div>
                <div class="weather__item">
                    <h3><i class="ri-clock-line"></i> Local Time</h3>
                    <p id="local_time">Loading...</p>
                </div>
                <div class="weather__item">
                    <h3><i class="ri-thermometer-line"></i> Forecast Temp</h3>
                    <p id="forecast_temp">Loading...</p>
                </div>
                <div class="weather__item">
                    <h3><i class="ri-weather-sunny-line"></i> Weather Icon</h3>
                    <img id="weather_icon" src="" alt="Weather Icon" />
                </div>
            </div>

<button class="clothing-advice-btn" onclick="showClothingAdvice()">Clothing Advice</button>

<div id="clothingPopUp" style="display: none;">
    <span onclick="closeClothingAdvice()" style="cursor:pointer;">&times;</span>
    <div id="clothing-slider">
        <i id="clothingPrev" class="arrow fas fa-chevron-left" onclick="changeClothing(-1)"></i>
        <img id="clothingImage" src="" alt="Clothing Recommendation" />
        <i id="clothingNext" class="arrow fas fa-chevron-right" onclick="changeClothing(1)"></i>
    </div>
    
</div>

        </div>

        <section class="journey__container">
            <div class="places__container">
                <h2>Popular Places</h2>
                <div class="journey__grid">
                    <div class="country__card" onclick="openPopup('Petronas Twin Towers', 'Located in Kuala Lumpur, these iconic twin skyscrapers are among the tallest buildings in the world. Visitors can walk across the sky bridge for stunning views of the city or explore the surrounding KLCC area, filled with shopping, dining, and entertainment options.')">
                        <img src="image/petronas.jpg" alt="Petronas" />
                        <div class="country__name">Petronas Twin Towers</div>
                    </div>
                    <div class="country__card" onclick="openPopup('Langkawi', 'Known as the Jewel of Kedah , Langkawi is a tropical paradise made up of 99 islands with beautiful beaches, lush rainforests, and clear blue waters. Popular attractions include the Langkawi Sky Bridge, underwater world aquarium, and cable car rides with breathtaking views of the island.')">
                        <img src="image/langkawi.jpg" alt="Langkawi" />
                        <div class="country__name">Langkawi</div>
                    </div>
                    <div class="country__card" onclick="openPopup('Batu Caves', 'Just outside of Kuala Lumpur, Batu Caves is a significant Hindu shrine set within limestone hills. The site features a large golden statue of Lord Murugan and a series of caves and temples accessible via a steep staircase, offering a mix of spirituality and natural beauty.')">
                        <img src="image/batu.jpg" alt="Batu Caves" />
                        <div class="country__name">Batu Caves</div>
                    </div>
                    <div class="country__card" onclick="openPopup('Penang Island (George Town) ', 'Known for its colonial architecture, street art, and vibrant food scene, George Town is a UNESCO World Heritage site on Penang Island. Visitors can explore historical sites, taste world-famous street food, and enjoy the island’s unique blend of Eastern and Western cultures.')">
                        <img src="image/penang.jpg" alt="Penang Island (George Town) " />
                        <div class="country__name">Penang Island (George Town) </div>
                    </div>
                </div>
                <button class="clothing-advice-btn" onclick="window.location.href='index.html';">Plan Your Trip</button>

            </div>
        </div>
    
        </section>

        <div id="myPopup" class="popup">
            <div class="popup-content">
                <span class="close" onclick="closePopup()">&times;</span>
                <h2 id="popupTitle">Title</h2>
                <p id="popupDescription">Description goes here...</p>
            </div>
        </div>
        

        <footer>
            <p class="footer-text">Follow us on our social media channels</p>
            <div class="social__icons">
              <i class="ri-facebook-circle-fill"></i>
              <i class="ri-twitter-fill"></i>
              <i class="ri-instagram-fill"></i>
            </div>
            <p>&copy; 2024 Travel.co. All rights reserved.</p>
          </footer>
        
    </div>

    <script>
    const apiKey = "a2e5a28227121e796c0cc440eaf0dc22"; 
    const city = "Malaysia";
    const countryCode = "MY";

    async function fetchWeather() {
        const response = await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city},${countryCode}&appid=${apiKey}&units=metric`);
        const data = await response.json();

        const forecastResponse = await fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${city},${countryCode}&appid=${apiKey}&units=metric`);
        const forecastData = await forecastResponse.json();

        const location = `${data.name}, ${data.sys.country}`;
        const temperature = `${Math.round(data.main.temp)}°C`;
        const feelsLike = `${Math.round(data.main.feels_like)}°C`;
        const condition = data.weather[0].description;
        const wind = `${data.wind.speed} m/s`;
        const humidity = `${data.main.humidity}%`;
        const sunrise = new Date(data.sys.sunrise * 1000).toLocaleTimeString();
        const sunset = new Date(data.sys.sunset * 1000).toLocaleTimeString();
        const clothingAdvice = getClothingAdvice(data.main.temp);
        const localTime = new Date().toLocaleString("en-IT", { timeZone: "Europe/Rome" });
        const weatherIcon = `https://openweathermap.org/img/wn/${data.weather[0].icon}.png`;

        const forecastTemp = `${Math.round(forecastData.list[8].main.temp)}°C`;

        document.getElementById("location").innerText = location;
        document.getElementById("temperature").innerText = temperature;
        document.getElementById("feels_like").innerText = feelsLike;
        document.getElementById("condition").innerText = condition.charAt(0).toUpperCase() + condition.slice(1);
        document.getElementById("wind").innerText = wind;
        document.getElementById("humidity").innerText = humidity;
        document.getElementById("sunrise").innerText = sunrise;
        document.getElementById("sunset").innerText = sunset;
        document.getElementById("clothing").innerText = clothingAdvice;
        document.getElementById("local_time").innerText = localTime;
        document.getElementById("forecast_temp").innerText = forecastTemp; 
        document.getElementById("weather_icon").src = weatherIcon;
    }

    function getClothingAdvice(temp) {
        if (temp >= 30) {
            return "Wear light and breathable clothing.";
        } else if (temp >= 20) {
            return "A T-shirt and light jacket would be comfortable.";
        } else if (temp >= 10) {
            return "A sweater or jacket is advisable.";
        } else {
            return "Dress warmly with a coat and layers.";
        }
    }

    const clothingImages = {
        cold: ['image/cold1.jpg', 'image/cold2.jpg', 'image/cold3.jpg'], 
        mild: ['image/mild1.jpg', 'image/mild2.jpg', 'image/mild3.jpg'], 
        hot: ['image/hot1.jpg', 'image/hot2.jpg', 'image/hot3.jpg']      
    };

    let currentClothingIndex = 0; 
    let currentClothingCategory = ''; 

    function setClothingImages(temperature) {
        if (temperature < 10) {
            currentClothingCategory = 'cold';
        } else if (temperature >= 10 && temperature <= 25) {
            currentClothingCategory = 'mild';
        } else {
            currentClothingCategory = 'hot';
        }
        currentClothingIndex = 0; 
        return clothingImages[currentClothingCategory];
    }

    function showClothingAdvice() {
        const temperature = parseFloat(document.getElementById("temperature").textContent);
        const clothingArray = setClothingImages(temperature);
        document.getElementById("clothingImage").src = clothingArray[currentClothingIndex]; 
        document.getElementById("clothingPopUp").style.display = "block";
    }

    function changeClothing(direction) {
        const clothingArray = clothingImages[currentClothingCategory];
        currentClothingIndex += direction;

        if (currentClothingIndex < 0) {
            currentClothingIndex = clothingArray.length - 1;
        } else if (currentClothingIndex >= clothingArray.length) {
            currentClothingIndex = 0;
        }

        document.getElementById("clothingImage").src = clothingArray[currentClothingIndex];
    }

    function closeClothingAdvice() {
        document.getElementById("clothingPopUp").style.display = "none";
    }

    fetchWeather();

    function openPopup(title, description) {
        document.getElementById("popupTitle").innerText = title;
        document.getElementById("popupDescription").innerText = description;
        document.getElementById("myPopup").style.display = "block";
    }

    function closePopup() {
        document.getElementById("myPopup").style.display = "none";
    }

    function toggleDropdown(id) {
        const dropdown = document.getElementById(id);
        dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
    }
</script>

</html>
